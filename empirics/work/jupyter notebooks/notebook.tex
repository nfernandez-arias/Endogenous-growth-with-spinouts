
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{explore}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \hypertarget{preliminary-data-exploration}{%
\section{Preliminary Data
Exploration}\label{preliminary-data-exploration}}

    In this document I run through some basic explorations / visualizations
of my datasets on state-year level R\&D spending and entry /
job-creation by young firms.

    \hypertarget{cleaning-etc.}{%
\subsection{Cleaning, etc.}\label{cleaning-etc.}}

    \hypertarget{loading-the-data-and-libraries}{%
\subsubsection{Loading the data and
libraries}\label{loading-the-data-and-libraries}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k+kp}{rm}\PY{p}{(}\PY{k+kt}{list} \PY{o}{=} \PY{k+kp}{ls}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
         \PY{k+kn}{library}\PY{p}{(}repr\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}ggplot2\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}plm\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}gamair\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}dplyr\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}tidyr\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}data.table\PY{p}{)}
         \PY{k+kn}{library}\PY{p}{(}plm\PY{p}{)} \PY{c+c1}{\PYZsh{}for estimation of fixed effect model}
         \PY{k+kn}{library}\PY{p}{(}clubSandwich\PY{p}{)} \PY{c+c1}{\PYZsh{}for clustered standard errors}
         \PY{k+kn}{library}\PY{p}{(}Hmisc\PY{p}{)} \PY{c+c1}{\PYZsh{}for constructing latex tables}
         \PY{k+kn}{library}\PY{p}{(}stargazer\PY{p}{)} \PY{c+c1}{\PYZsh{} ibid}
         \PY{k+kn}{source}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{../Code/Functions/stata\PYZus{}merge.R\PYZdq{}}\PY{p}{)}
         
         dt\PYZus{}all \PY{o}{\PYZlt{}\PYZhy{}} fread\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{../Data/yearStateXrd\PYZhy{}RDUserCost\PYZhy{}GDP\PYZhy{}entryMeasures\PYZus{}stateLevel\PYZus{}compustatAggregation.csv\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{names}\PY{p}{(}dt\PYZus{}all\PY{p}{)}
\end{Verbatim}


    \begin{enumerate*}
\item 'state'
\item 'year'
\item 'xrd'
\item 'rho\_high'
\item 'stateName'
\item 'IndustryId'
\item 'Description'
\item 'GDP'
\item 'xrd\_GDP'
\item 'stateNum'
\item 'estabs\_entry'
\item 'estabs\_total'
\item 'net\_job\_creation'
\item 'emp\_total'
\end{enumerate*}


    
    \hypertarget{rename-clean-construct-normalized-variables}{%
\subsubsection{Rename, clean, construct normalized
variables}\label{rename-clean-construct-normalized-variables}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} dt\PYZus{}all \PY{o}{\PYZlt{}\PYZhy{}} dt\PYZus{}all \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} rename\PY{p}{(}normalizationType \PY{o}{=} IndustryId\PY{p}{,} estabsEntry \PY{o}{=} estabs\PYZus{}entry\PY{p}{,} 
                                     estabsTotal \PY{o}{=} estabs\PYZus{}total\PY{p}{,} netJobCreation \PY{o}{=} net\PYZus{}job\PYZus{}creation\PY{p}{,} 
                                     empTotal \PY{o}{=} emp\PYZus{}total\PY{p}{)}  \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} copy\PY{p}{(}\PY{p}{)}
         dt\PYZus{}all \PY{o}{\PYZlt{}\PYZhy{}} dt\PYZus{}all \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} select\PY{p}{(}normalizationType\PY{p}{,}state\PY{p}{,}stateName\PY{p}{,}stateNum\PY{p}{,}year\PY{p}{,}GDP\PY{p}{,}estabsEntry\PY{p}{,}estabsTotal\PY{p}{,}
                                     netJobCreation\PY{p}{,}empTotal\PY{p}{,}xrd\PY{p}{,}xrd\PYZus{}GDP\PY{p}{,}rho\PYZus{}high\PY{p}{)} \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} copy\PY{p}{(}\PY{p}{)}
         dt\PYZus{}all \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} setorder\PY{p}{(}state\PY{p}{,}year\PY{p}{)} 
         dt \PY{o}{\PYZlt{}\PYZhy{}} dt\PYZus{}all\PY{p}{[}normalizationType \PY{o}{==} \PY{l+m}{1}\PY{p}{]}
         \PY{c+c1}{\PYZsh{}dt \PYZlt{}\PYZhy{} dt\PYZus{}all}
         \PY{k+kp}{rm}\PY{p}{(}dt\PYZus{}all\PY{p}{)}
         setkey\PY{p}{(}dt\PY{p}{,}state\PY{p}{,}year\PY{p}{)}
         
         dt\PY{p}{[}\PY{p}{,} \PY{l+s+sb}{`:=`}\PY{p}{(}estabsEntry\PYZus{}estabsTotal \PY{o}{=} estabsEntry \PY{o}{/} estabsTotal\PY{p}{,} 
                   netJobCreation\PYZus{}empTotal \PY{o}{=} netJobCreation \PY{o}{/} empTotal\PY{p}{)}\PY{p}{]}
         dt \PY{o}{\PYZlt{}\PYZhy{}} dt \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} select\PY{p}{(}normalizationType\PY{p}{,}state\PY{p}{,}stateName\PY{p}{,}stateNum\PY{p}{,}year\PY{p}{,}
                             estabsEntry\PY{p}{,}estabsEntry\PYZus{}estabsTotal\PY{p}{,}netJobCreation\PY{p}{,}
                             netJobCreation\PYZus{}empTotal\PY{p}{,}xrd\PY{p}{,}xrd\PYZus{}GDP\PY{p}{,}GDP\PY{p}{,}rho\PYZus{}high\PY{p}{)}  \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} copy\PY{p}{(}\PY{p}{)} 
         \PY{k+kp}{head}\PY{p}{(}dt\PY{p}{)}
\end{Verbatim}


    
    
    \begin{tabular}{r|lllllllllllll}
 normalizationType & state & stateName & stateNum & year & estabsEntry & estabsEntry\_estabsTotal & netJobCreation & netJobCreation\_empTotal & xrd & xrd\_GDP & GDP & rho\_high\\
\hline
	 1            & AK           & Alaska       & 2            & 1980         & 1150         & 0.1381547    & 5737         & 0.05296393   & 3.274729     & 0.0002142867 & 15282        & 1.454841    \\
	 1            & AK           & Alaska       & 2            & 1981         & 1127         & 0.1360618    & 7123         & 0.06376160   & 1.086379     & 0.0000497791 & 21824        & 1.486647    \\
	 1            & AK           & Alaska       & 2            & 1982         & 1499         & 0.1628994    & 9176         & 0.07253927   & 3.936591     & 0.0001677930 & 23461        & 1.475834    \\
	 1            & AK           & Alaska       & 2            & 1983         & 1761         & 0.1696532    & 8926         & 0.06851239   & 3.559322     & 0.0001575549 & 22591        & 1.472018    \\
	 1            & AK           & Alaska       & 2            & 1984         & 1950         & 0.1716247    & 9681         & 0.06867419   & 3.748537     & 0.0001575876 & 23787        & 1.463725    \\
	 1            & AK           & Alaska       & 2            & 1985         & 1838         & 0.1541558    & 9718         & 0.06324641   & 4.946118     & 0.0001892020 & 26142        & 1.465342    \\
\end{tabular}


    
    \hypertarget{comparing-compustat-aggregated-rd-to-nsf-rd}{%
\subsection{Comparing Compustat-aggregated R\&D to NSF
R\&D}\label{comparing-compustat-aggregated-rd-to-nsf-rd}}

    The purpose of this section is to get a sense of how different the two
measures of R\&D are.

\hypertarget{first-load-in-and-merge-rd-data-from-nsf.}{%
\paragraph{First, load in and merge R\&D data from
NSF.}\label{first-load-in-and-merge-rd-data-from-nsf.}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} dt2 \PY{o}{\PYZlt{}\PYZhy{}} fread\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{../Data/rd\PYZhy{}by\PYZhy{}state.csv\PYZdq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}head(dt2)}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP \PY{o}{:}\PY{o}{=} xrd\PYZus{}NSF \PY{o}{/} GDP\PYZus{}NSF\PY{p}{]}
         setkey\PY{p}{(}dt2\PY{p}{,}state\PY{p}{,}year\PY{p}{)}
         \PY{c+c1}{\PYZsh{}unique(dt2\PYZdl{}state)}
         \PY{c+c1}{\PYZsh{}unique(dt\PYZus{}all\PYZdl{}state)}
         
         dt \PY{o}{\PYZlt{}\PYZhy{}} stata.merge\PY{p}{(}dt\PY{p}{,}dt2\PY{p}{,}\PY{k+kt}{c}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{year\PYZdq{}}\PY{p}{)}\PY{p}{)}
         \PY{k+kp}{head}\PY{p}{(}dt\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}head(dt[state == \PYZdq{}AL\PYZdq{}],100)}
         \PY{c+c1}{\PYZsh{}head(dt2[state == \PYZdq{}AL\PYZdq{}],100)}
         
         \PY{c+c1}{\PYZsh{}length(dt\PYZus{}all[merge == 1])}
         \PY{c+c1}{\PYZsh{}length(dt\PYZus{}all[merge == 2])}
         \PY{c+c1}{\PYZsh{}length(dt\PYZus{}all[merge == 3])}
         \PY{c+c1}{\PYZsh{}summary(dt\PYZus{}all\PYZdl{}merge)}
         \PY{c+c1}{\PYZsh{}head(dt\PYZus{}all,200)}
\end{Verbatim}


    
    
    \begin{tabular}{r|lllllllllllllllll}
 state & year & normalizationType & stateName & stateNum & estabsEntry & estabsEntry\_estabsTotal & netJobCreation & netJobCreation\_empTotal & xrd & xrd\_GDP & GDP & rho\_high & xrd\_NSF & GDP\_NSF & xrd\_NSF\_GDP & merge\\
\hline
	 AK           & 1980         & 1            & Alaska       & 2            & 1150         & 0.1381547    & 5737         & 0.05296393   & 3.274729     & 0.0002142867 & 15282        & 1.454841     & NA           & NA           & NA           & 1           \\
	 AK           & 1981         & 1            & Alaska       & 2            & 1127         & 0.1360618    & 7123         & 0.06376160   & 1.086379     & 0.0000497791 & 21824        & 1.486647     & NA           & NA           & NA           & 1           \\
	 AK           & 1982         & 1            & Alaska       & 2            & 1499         & 0.1628994    & 9176         & 0.07253927   & 3.936591     & 0.0001677930 & 23461        & 1.475834     & NA           & NA           & NA           & 1           \\
	 AK           & 1983         & 1            & Alaska       & 2            & 1761         & 0.1696532    & 8926         & 0.06851239   & 3.559322     & 0.0001575549 & 22591        & 1.472018     & NA           & NA           & NA           & 1           \\
	 AK           & 1984         & 1            & Alaska       & 2            & 1950         & 0.1716247    & 9681         & 0.06867419   & 3.748537     & 0.0001575876 & 23787        & 1.463725     & NA           & NA           & NA           & 1           \\
	 AK           & 1985         & 1            & Alaska       & 2            & 1838         & 0.1541558    & 9718         & 0.06324641   & 4.946118     & 0.0001892020 & 26142        & 1.465342     & NA           & NA           & NA           & 1           \\
\end{tabular}


    
    \hypertarget{calculate-correlations-and-construct-scatterplot.}{%
\paragraph{Calculate correlations and construct
scatterplot.}\label{calculate-correlations-and-construct-scatterplot.}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} cor\PY{p}{(}dt\PY{p}{[}\PY{p}{,}\PY{k+kt}{list}\PY{p}{(}xrd\PY{p}{,}xrd\PYZus{}NSF\PY{p}{)}\PY{p}{]}\PY{p}{,} use \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{complete.obs\PYZdq{}}\PY{p}{)}
         
         \PY{k+kp}{options}\PY{p}{(}repr.plot.width \PY{o}{=} \PY{l+m}{9}\PY{p}{,} repr.plot.height \PY{o}{=} \PY{l+m}{5}\PY{p}{)}
         
         ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} xrd\PYZus{}NSF\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.2}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from Compustat/NBER\PYZhy{}USPTO\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from NSF\PYZdq{}}\PY{p}{)} \PY{o}{+} 
             ggtitle\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Raw data\PYZdq{}}\PY{p}{)}
         
         cor\PY{p}{(}dt\PY{p}{[}\PY{p}{,}\PY{k+kt}{list}\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{)}\PY{p}{]}\PY{p}{,} use \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{complete.obs\PYZdq{}}\PY{p}{)}
         
         ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}GDP\PY{p}{,} y \PY{o}{=} xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.2}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP \PYZhy{} from Compustat/NBER\PYZhy{}USPTO\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP \PYZhy{} from NSF\PYZdq{}}\PY{p}{)} \PY{o}{+} 
             ggtitle\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Normalized by State\PYZhy{}Year GDP\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{tabular}{r|ll}
  & xrd & xrd\_NSF\\
\hline
	xrd & 1.0000000 & 0.9438037\\
	xrd\_NSF & 0.9438037 & 1.0000000\\
\end{tabular}


    
    \begin{Verbatim}[commandchars=\\\{\}]
Warning message:
“Removed 878 rows containing non-finite values (stat\_smooth).”Warning message:
“Removed 878 rows containing missing values (geom\_point).”
    \end{Verbatim}

    
    
    \begin{tabular}{r|ll}
  & xrd\_GDP & xrd\_NSF\_GDP\\
\hline
	xrd\_GDP & 1.0000000 & 0.5163654\\
	xrd\_NSF\_GDP & 0.5163654 & 1.0000000\\
\end{tabular}


    
    \begin{Verbatim}[commandchars=\\\{\}]
Warning message:
“Removed 878 rows containing non-finite values (stat\_smooth).”Warning message:
“Removed 878 rows containing missing values (geom\_point).”
    \end{Verbatim}

    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_11_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_11_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    The two tables show that the correlation is quite high with the raw
data, and somewhat lower in the normalized data.

The two scatterplots (with lines fitted by state) show why this is the
case.

In the first one we see that there is a very high correlation raw
correlation. This is good, since the two series are related to each
other.

In the second chart, we see that once we control for GDP, the
correlation diminshes. Within states, the correlation appears to vanish
completely. Across states, there is still a good deal of correlation
left. Not sure why this is the case.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} dt2 \PY{o}{\PYZlt{}\PYZhy{}} dt\PY{p}{[}\PY{p}{,} \PY{l+m}{.}SD\PY{p}{,} \PY{l+m}{.}SDcols \PY{o}{=} \PY{k+kt}{c}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{year\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{xrd\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{xrd\PYZus{}NSF\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{xrd\PYZus{}GDP\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{xrd\PYZus{}NSF\PYZus{}GDP\PYZdq{}}\PY{p}{)}\PY{p}{]}
         
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}stateMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,}by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}stateMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,} by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}demeaned \PY{o}{:}\PY{o}{=} xrd \PY{o}{\PYZhy{}} xrd\PYZus{}stateMean\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}demeaned \PY{o}{:}\PY{o}{=} xrd\PYZus{}NSF \PY{o}{\PYZhy{}} xrd\PYZus{}NSF\PYZus{}stateMean\PY{p}{]}
         
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}GDP\PYZus{}stateMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,}by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}stateMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,} by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}GDP\PYZus{}demeaned \PY{o}{:}\PY{o}{=} xrd\PYZus{}GDP \PY{o}{\PYZhy{}} xrd\PYZus{}GDP\PYZus{}stateMean\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned \PY{o}{:}\PY{o}{=} xrd\PYZus{}NSF\PYZus{}GDP \PY{o}{\PYZhy{}} xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}stateMean\PY{p}{]}
\end{Verbatim}


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    Now let's calculate the same correlation as before, but using the
de-meaned variables.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} cor\PY{p}{(}dt2\PY{p}{[}\PY{p}{,}\PY{k+kt}{list}\PY{p}{(}xrd\PYZus{}demeaned\PY{p}{,}xrd\PYZus{}NSF\PYZus{}demeaned\PY{p}{)}\PY{p}{]}\PY{p}{,} use \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{complete.obs\PYZdq{}}\PY{p}{)}
         cor\PY{p}{(}dt2\PY{p}{[}\PY{p}{,}\PY{k+kt}{list}\PY{p}{(}xrd\PYZus{}GDP\PYZus{}demeaned\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PY{p}{)}\PY{p}{]}\PY{p}{,} use \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{complete.obs\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}options(repr.plot.width = 9, repr.plot.height = 5)}
         
         ggplot\PY{p}{(}dt2\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}demeaned\PY{p}{,} y \PY{o}{=} xrd\PYZus{}NSF\PYZus{}demeaned\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.15}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from Compustat/NBER\PYZhy{}USPTO\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from NSF\PYZdq{}}\PY{p}{)} \PY{o}{+} 
             ggtitle\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Raw, deviations from state mean\PYZdq{}}\PY{p}{)}
         
         ggplot\PY{p}{(}dt2\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}GDP\PYZus{}demeaned\PY{p}{,} y \PY{o}{=} xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.15}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP \PYZhy{} from Compustat/NBER\PYZhy{}USPTO\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP \PYZhy{} from NSF\PYZdq{}}\PY{p}{)} \PY{o}{+} 
             ggtitle\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Normalized by State\PYZhy{}Year GDP, deviations from state mean\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{tabular}{r|ll}
  & xrd\_demeaned & xrd\_NSF\_demeaned\\
\hline
	xrd\_demeaned & 1.000000 & 0.668919\\
	xrd\_NSF\_demeaned & 0.668919 & 1.000000\\
\end{tabular}


    
    \begin{tabular}{r|ll}
  & xrd\_GDP\_demeaned & xrd\_NSF\_GDP\_demeaned\\
\hline
	xrd\_GDP\_demeaned & 1.000000000 & 0.008082085\\
	xrd\_NSF\_GDP\_demeaned & 0.008082085 & 1.000000000\\
\end{tabular}


    
    \begin{Verbatim}[commandchars=\\\{\}]
Warning message:
“Removed 878 rows containing non-finite values (stat\_smooth).”Warning message:
“Removed 878 rows containing missing values (geom\_point).”
    \end{Verbatim}

    
    
    \begin{Verbatim}[commandchars=\\\{\}]
Warning message:
“Removed 878 rows containing non-finite values (stat\_smooth).”Warning message:
“Removed 878 rows containing missing values (geom\_point).”
    \end{Verbatim}

    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    The correlation is gone. This suggests that deviations from state-means
of R\&D/GDP by firms based on compustat aggregation are uncorrelated
with deviations from sate-means of R\&D/GDP based on NSF's aggregate
data. The fact that the correlation is not 1 is not a problem - after
all, the point is that I'm trying to measure something slightly
different. However, the correlation should still not be 0. Not only are
both series subject to the same time trends - which should push
correlation up - they are subject to correlated state-time shocks as
well, which I cannot hope to control for.

Let's see what happens when I remove the means for each year. This only
makes sense for the variables normalized by GDP, since these are the
ones we expect to have the same distribution regardless of state size. I
expect this to drive the correlation negative.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}GDP\PYZus{}stateMean\PYZus{}timeMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PYZus{}GDP\PYZus{}demeaned\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,}by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{year\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}stateMean\PYZus{}timeMean \PY{o}{:}\PY{o}{=} \PY{k+kp}{mean}\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PY{p}{,} na.rm \PY{o}{=} \PY{k+kc}{TRUE}\PY{p}{)}\PY{p}{,} by \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{year\PYZdq{}}\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned \PY{o}{:}\PY{o}{=} xrd\PYZus{}GDP\PYZus{}demeaned \PY{o}{\PYZhy{}} xrd\PYZus{}GDP\PYZus{}stateMean\PYZus{}timeMean\PY{p}{]}
         dt2\PY{p}{[}\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned \PY{o}{:}\PY{o}{=} xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned \PY{o}{\PYZhy{}} xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}stateMean\PYZus{}timeMean\PY{p}{]}
\end{Verbatim}


    
    
    
    
    
    
    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} cor\PY{p}{(}dt2\PY{p}{[}\PY{p}{,}\PY{k+kt}{list}\PY{p}{(}xrd\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned\PY{p}{,}xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned\PY{p}{)}\PY{p}{]}\PY{p}{,} use \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{complete.obs\PYZdq{}}\PY{p}{)}
         
         ggplot\PY{p}{(}dt2\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned\PY{p}{,} y \PY{o}{=} xrd\PYZus{}NSF\PYZus{}GDP\PYZus{}demeaned\PYZus{}timeDemeaned\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.2}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from Compustat/NBER\PYZhy{}USPTO\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D \PYZhy{} from NSF\PYZdq{}}\PY{p}{)} \PY{o}{+} 
             ggtitle\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Raw, deviations of deviations of state mean from time mean\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{tabular}{r|ll}
  & xrd\_GDP\_demeaned\_timeDemeaned & xrd\_NSF\_GDP\_demeaned\_timeDemeaned\\
\hline
	xrd\_GDP\_demeaned\_timeDemeaned & 1.00000000 & 0.04307636\\
	xrd\_NSF\_GDP\_demeaned\_timeDemeaned & 0.04307636 & 1.00000000\\
\end{tabular}


    
    \begin{Verbatim}[commandchars=\\\{\}]
Warning message:
“Removed 878 rows containing non-finite values (stat\_smooth).”Warning message:
“Removed 878 rows containing missing values (geom\_point).”
    \end{Verbatim}

    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_18_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{conclusion}{%
\subsubsection{Conclusion}\label{conclusion}}

Based on the above, it looks like:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  The raw Compustat-aggregated measure of R\&D is highly correlated with
  the raw NSF measure of R\&D.
\item
  The correlation drops by half when we normalize R\&D spending by
  state-year GDP.
\item
  The correlation goes to close to zero (but still slightly positive)
  when we subtract state and time means (this is meant to roughly
  capture what's going into the fixed effects model below, but it's not
  perfect - I wish I understood exactly how it was lacking\ldots{})
\end{enumerate}

To me this seems good. The first two facts give me confidence that the
Compustat data is not crazy, and the last gives me confidence that it is
still substantially different. And (spoiler alert!) this is borne out in
the analysis below: the results are starkly different when using the NSF
data vs.~using the Compustat-aggregated data.

    \hypertarget{estimating-the-model-with-the-r-package-plm}{%
\subsection{Estimating the model with the R package
plm}\label{estimating-the-model-with-the-r-package-plm}}

    \hypertarget{introduction}{%
\subsubsection{Introduction}\label{introduction}}

    \hypertarget{statistical-model}{%
\paragraph{Statistical model}\label{statistical-model}}

The model I am estimating is

\(\begin{align} y_{it} &= \beta x_{it} + \varepsilon_{it} \\ \varepsilon_{it} &= \gamma^y_{i} + \sigma^y_{t} + \epsilon^y_{it} \\ x_{it} &= \gamma^x_i + \sigma^x_t + \epsilon^x_{it} \end{align}\)

where \(i\) indexes state and \(t\) indexes year. The variable
\(y_{it}\) refers to an entry-related outcome variable. The variable
\(x_{it}\) refers to an R\&D spending-related variable. I do not need a
constant in the first equation because of the fixed effects.

\hypertarget{identification}{%
\paragraph{Identification}\label{identification}}

OLS on the first equation will not consistently estimate \(\beta\) due
to the possible correlation between \(\varepsilon_{it}\) and \(x_{it}\).
Essentially, many shocks that induce R\&D spending also induce entry.
These could include policies, institutions, or technological /
investment opportunities. The consequence is that \(x_{it}\) and
\(y_{it}\) could be correlated in spite of \(\beta = 0\).

By using state- and time-fixed effects, we can get rid of the spurious
correlation due to: (1) shocks that are state-specific but
time-invariant, and (2) shocks that are time-varying but constant across
states.

However, there could easily be other types of shocks that bias my
results. Time-varying state policies that encourage R\&D by existing
firms and entry by new startups, for example, could bias my results. A
few ideas:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Try a sample where the effective state R\&D tax rate, for example,
  does not vary over time. This would heavily restrict the sample but
  it's one idea.
\item
  Do some diff-in-diff work WITHIN states where policies changed. But
  the problem is that the only treatments I have affect the outcome
  variable through a mechanism in addition to the one I'm interested in.
\item
  One possible solution is to assume that the change in R\&D policy
  should have a relatively rapid direct effect on R\&D and on entry, but
  the effect of R\&D spending on entry (through spinouts) may have a
  lag.
\item
  Taking (3) a step further, we could assume that any shocks that affect
  both \(y_{it}\) and \(x_{it}\) affect them simultaneously. Hence, if
  we find a statistically significant effect from \(x_{i,t-k}\) on
  \(y_{it}\) then this is pretty strong evidence in favor of our
  hypothesis. The concern with this is that there could be
  autocorrelation in these time-varying, state-varying shocks. That is,
  a shock to \(x_{i,t-k}\) and \(y_{i,t-k}\) could simply take a while
  to decay, leading to a correlation between \(x_{i,t-k}\) and
  \(y_{it}\). Is this controlled for by including all of the other
  \(x_{i,t-k+1},x_{i,t-k+2},...,x_{it}\) in the regression as well
  (because these should exhibit the same spurious correlation). Think
  about this\ldots{}
\end{enumerate}

In any case, with fixed effects, the estimation amounts to:

\(\begin{align} \tilde{y}_{it} &= \beta \tilde{x}_{it} + \varepsilon_{it} \\ \varepsilon_{it} &= \epsilon^y_{it} \\ \tilde{x}_{it} &= \epsilon^x_{it} \end{align}\)

\hypertarget{clustering}{%
\paragraph{Clustering}\label{clustering}}

Once we've figured out how we are going to identify \(\beta\), we need
to determine how we are going to calculate our standard errors and
confidence intervals.

For this, I need to decide how to cluster. Since I have a similar number
of time periods and groups, this is a good time to cluster by both
variables follow Thompson 2011. R has a command for this. I will also
show the results when I use other clustering methods for comparison.

    \hypertarget{baseline}{%
\subsubsection{Baseline}\label{baseline}}

First, let's do the estimates without normalizing any variables. That
is, \(y_{it}\) corresponds to the raw outcome - \# of entering
establishments, \# of jobs created by new firms - and \(x_{it}\) refers
simply to nominal spending on R\&D.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} First, set data as panel data}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         dt \PY{o}{\PYZlt{}\PYZhy{}} dt \PY{o}{\PYZpc{}\PYZgt{}\PYZpc{}} select\PY{p}{(}state\PY{p}{,}year\PY{p}{,}everything\PY{p}{(}\PY{p}{)}\PY{p}{)}
         dt \PY{o}{\PYZlt{}\PYZhy{}} pdata.frame\PY{p}{(}dt\PY{p}{,} index \PY{o}{=} \PY{k+kt}{c}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{state\PYZdq{}}\PY{p}{,}\PY{l+s}{\PYZdq{}}\PY{l+s}{year\PYZdq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} estabsEntry \PY{o}{\PYZti{}} xrd\PY{p}{,} data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} netJobCreation \PY{o}{\PYZti{}} xrd\PY{p}{,} data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} Throughout, I use the vcovDC wrapper}
         \PY{c+c1}{\PYZsh{} from plm, which allows twoway clustering. }
         \PY{c+c1}{\PYZsh{} Eventually, I want to do this myself so that}
         \PY{c+c1}{\PYZsh{} I can correct for small sample issues, but at this point}
         \PY{c+c1}{\PYZsh{} I think it is overkill.}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry ~ xrd, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-15582.1548   -568.6124     -9.0169    590.4657  13600.4626 

Coefficients:
     Estimate Std. Error t-value Pr(>|t|)   
xrd -0.044823   0.015256  -2.938 0.003347 **
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    3755800000
Residual Sum of Squares: 3674100000
R-Squared:      0.021745
Adj. R-Squared: -0.026412
F-statistic: 8.63187 on 1 and 1747 DF, p-value: 0.0033466
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation ~ xrd, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-118213.311   -4141.917     -88.682    4032.462   98146.835 

Coefficients:
    Estimate Std. Error t-value  Pr(>|t|)    
xrd -0.61033    0.17290 -3.5299 0.0004265 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1.9216e+11
Residual Sum of Squares: 1.7701e+11
R-Squared:      0.078799
Adj. R-Squared: 0.03345
F-statistic: 12.4601 on 1 and 1747 DF, p-value: 0.00042651
    \end{verbatim}

    
    What happens if we use the R\&D data from the NSF?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} estabsEntry \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PY{p}{,} data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} netJobCreation \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PY{p}{,} data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry ~ xrd_NSF, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 18-20, N = 1007

Residuals:
     Min.   1st Qu.    Median   3rd Qu.      Max. 
-8468.191  -495.348   -37.287   540.714 13491.476 

Coefficients:
         Estimate Std. Error t-value Pr(>|t|)    
xrd_NSF -0.083802   0.022627 -3.7036 0.000225 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1712500000
Residual Sum of Squares: 1625700000
R-Squared:      0.050702
Adj. R-Squared: -0.020292
F-statistic: 13.7168 on 1 and 936 DF, p-value: 0.00022498
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation ~ xrd_NSF, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 18-20, N = 1007

Residuals:
     Min.   1st Qu.    Median   3rd Qu.      Max. 
-67500.38  -4101.89   -441.93   4660.98  97536.99 

Coefficients:
        Estimate Std. Error t-value  Pr(>|t|)    
xrd_NSF -1.17900    0.23272 -5.0661 4.891e-07 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1.0764e+11
Residual Sum of Squares: 9.0452e+10
R-Squared:      0.15966
Adj. R-Squared: 0.096816
F-statistic: 25.6655 on 1 and 936 DF, p-value: 4.8906e-07
    \end{verbatim}

    
    \hypertarget{discussion}{%
\subsubsection{Discussion}\label{discussion}}

The results from the two above regressions are both surprising. More
R\&D spending is correlated with less job creation by new firms, less
establishment entry.

What happens if we add lags of R\&D?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} estabsEntry \PY{o}{\PYZti{}} xrd
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,} 
                                             data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} netJobCreation \PY{o}{\PYZti{}} xrd
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,} 
                                             data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} Throughout, I use the vcovDC wrapper}
         \PY{c+c1}{\PYZsh{} from plm, which allows twoway clustering. }
         \PY{c+c1}{\PYZsh{} Eventually, I want to do this myself so that}
         \PY{c+c1}{\PYZsh{} I can correct for small sample issues, but at this point}
         \PY{c+c1}{\PYZsh{} I think it is overkill.}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry ~ xrd + plm::lag(xrd, 1) + plm::lag(xrd, 
    2) + plm::lag(xrd, 3), data = dt, effect = "twoways", model = "within")

Unbalanced Panel: n = 51, T = 32-33, N = 1681

Residuals:
      Min.    1st Qu.     Median    3rd Qu.       Max. 
-7577.5576  -556.1202    -7.5028   502.9510 12369.1730 

Coefficients:
                  Estimate Std. Error t-value  Pr(>|t|)    
xrd               0.087173   0.025029  3.4829 0.0005094 ***
plm::lag(xrd, 1) -0.049077   0.038142 -1.2867 0.1983891    
plm::lag(xrd, 2) -0.039299   0.036037 -1.0905 0.2756490    
plm::lag(xrd, 3) -0.072578   0.040337 -1.7993 0.0721577 .  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    3007600000
Residual Sum of Squares: 2876900000
R-Squared:      0.04345
Adj. R-Squared: -0.0081586
F-statistic: 7.13353 on 4 and 1594 DF, p-value: 1.0846e-05
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation ~ xrd + plm::lag(xrd, 1) + plm::lag(xrd, 
    2) + plm::lag(xrd, 3), data = dt, effect = "twoways", model = "within")

Unbalanced Panel: n = 51, T = 32-33, N = 1681

Residuals:
     Min.   1st Qu.    Median   3rd Qu.      Max. 
-65532.11  -4115.23   -227.92   3772.18  90030.33 

Coefficients:
                 Estimate Std. Error t-value Pr(>|t|)  
xrd               0.17696    0.20837  0.8493   0.3959  
plm::lag(xrd, 1) -0.62706    0.54199 -1.1570   0.2475  
plm::lag(xrd, 2)  0.06844    0.34305  0.1995   0.8419  
plm::lag(xrd, 3) -0.45387    0.17830 -2.5456   0.0110 *
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1.6281e+11
Residual Sum of Squares: 1.4422e+11
R-Squared:      0.11418
Adj. R-Squared: 0.066391
F-statistic: 0.0596179 on 4 and 1594 DF, p-value: 0.99343
    \end{verbatim}

    
    And if we do the same with R\&D data from the NSF?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         estabs\PYZus{}xrdNSF\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} estabsEntry \PY{o}{\PYZti{}} xrd\PYZus{}NSF
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{2}\PY{p}{)} 
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,} 
                                             data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         jobs\PYZus{}xrdNSF\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} netJobCreation \PY{o}{\PYZti{}} xrd\PYZus{}NSF
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{2}\PY{p}{)}
                         \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,} 
                                             data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} Throughout, I use the vcovDC wrapper}
         \PY{c+c1}{\PYZsh{} from plm, which allows twoway clustering. }
         \PY{c+c1}{\PYZsh{} Eventually, I want to do this myself so that}
         \PY{c+c1}{\PYZsh{} I can correct for small sample issues, but at this point}
         \PY{c+c1}{\PYZsh{} I think it is overkill.}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdNSF\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdNSF\PYZus{}FEtwoway\PYZus{}notNormalized\PYZus{}withLags\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry ~ xrd_NSF + plm::lag(xrd_NSF, 1) + 
    plm::lag(xrd_NSF, 2) + plm::lag(xrd_NSF, 3), data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 7-11, N = 556

Residuals:
     Min.   1st Qu.    Median   3rd Qu.      Max. 
-7956.902  -455.206    41.879   487.564  9932.418 

Coefficients:
                      Estimate Std. Error t-value Pr(>|t|)  
xrd_NSF               0.169025   0.104369  1.6195  0.10598  
plm::lag(xrd_NSF, 1) -0.069526   0.105779 -0.6573  0.51131  
plm::lag(xrd_NSF, 2) -0.213458   0.090872 -2.3490  0.01922 *
plm::lag(xrd_NSF, 3) -0.234394   0.109641 -2.1378  0.03302 *
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1146700000
Residual Sum of Squares: 813540000
R-Squared:      0.29051
Adj. R-Squared: 0.19804
F-statistic: 14.4264 on 4 and 491 DF, p-value: 3.8114e-11
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation ~ xrd_NSF + plm::lag(xrd_NSF, 1) + 
    plm::lag(xrd_NSF, 2) + plm::lag(xrd_NSF, 3), data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 7-11, N = 556

Residuals:
     Min.   1st Qu.    Median   3rd Qu.      Max. 
-35523.92  -3477.73    168.85   3544.38  74795.07 

Coefficients:
                     Estimate Std. Error t-value Pr(>|t|)  
xrd_NSF               1.05505    1.14009  0.9254  0.35521  
plm::lag(xrd_NSF, 1) -1.24641    1.29244 -0.9644  0.33533  
plm::lag(xrd_NSF, 2) -1.25427    1.02057 -1.2290  0.21967  
plm::lag(xrd_NSF, 3) -1.81605    0.86542 -2.0985  0.03637 *
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    6.8964e+10
Residual Sum of Squares: 4.0707e+10
R-Squared:      0.40974
Adj. R-Squared: 0.3328
F-statistic: 28.0764 on 4 and 491 DF, p-value: < 2.22e-16
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} 
                     plm\PY{p}{(}formula \PY{o}{=} estabsEntry\PYZus{}estabsTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP\PY{p}{,} data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} netJobCreation\PYZus{}empTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP\PY{p}{,} data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} Throughout, I use the vcovDC wrapper}
         \PY{c+c1}{\PYZsh{} from plm, which allows twoway clustering. }
         \PY{c+c1}{\PYZsh{} Eventually, I want to do this myself so that}
         \PY{c+c1}{\PYZsh{} I can correct for small sample issues, but at this point}
         \PY{c+c1}{\PYZsh{} I think it is overkill.}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Compustat\PYZhy{}aggregated R\PYZam{}D data\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Compustat-aggregated R\&D data"
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry_estabsTotal ~ xrd_GDP, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-3.8304e-02 -3.8340e-03 -9.3355e-05  2.9506e-03  5.8663e-02 

Coefficients:
        Estimate Std. Error t-value  Pr(>|t|)    
xrd_GDP 0.163455   0.048547   3.367 0.0007765 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    0.095509
Residual Sum of Squares: 0.093875
R-Squared:      0.017113
Adj. R-Squared: -0.031272
F-statistic: 11.3364 on 1 and 1747 DF, p-value: 0.00077651
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation_empTotal ~ xrd_GDP, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-0.01756820 -0.00228501 -0.00015072  0.00189587  0.05536221 

Coefficients:
        Estimate Std. Error t-value Pr(>|t|)  
xrd_GDP 0.071743   0.040769  1.7597  0.07863 .
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    0.042305
Residual Sum of Squares: 0.04199
R-Squared:      0.0074427
Adj. R-Squared: -0.041418
F-statistic: 3.09668 on 1 and 1747 DF, p-value: 0.078627
    \end{verbatim}

    
    \hypertarget{discussion}{%
\paragraph{Discussion}\label{discussion}}

The first estimate is highly significant, with a p-value of 0.07\%. The
second one is not significant but still has a somewhat low p-value of
7.9\%. I'm pretty sure these are just standard t-tests with no
small-sample correction. Eventually I hope to improve this, but for now
this is what I've got. This is meant to be suggestive evidence, anyway.

Just as a check, let's see what happens when we do the same regressions
with aggregated R\&D data from the NSF.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} Establishments}
         estabs\PYZus{}xrdNSF\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} estabsEntry\PYZus{}estabsTotal \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,} data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Job creation}
         jobs\PYZus{}xrdNSF\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} netJobCreation\PYZus{}empTotal \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,} data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{} See note above about vcovDC etc}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Compustat\PYZhy{}aggregated R\PYZam{}D data\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishments creation\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdNSF\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Job creation by new firms\PYZdq{}}\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}jobs\PYZus{}xrdNSF\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Compustat-aggregated R\&D data"
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry_estabsTotal ~ xrd_NSF_GDP, data = dt, 
    effect = "twoways", model = "within")

Unbalanced Panel: n = 51, T = 18-20, N = 1007

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-0.02847995 -0.00236342 -0.00022777  0.00211809  0.02648286 

Coefficients:
             Estimate Std. Error t-value Pr(>|t|)
xrd_NSF_GDP -0.054717   0.062019 -0.8823   0.3779

Total Sum of Squares:    0.019206
Residual Sum of Squares: 0.019151
R-Squared:      0.0028905
Adj. R-Squared: -0.07168
F-statistic: 0.778384 on 1 and 936 DF, p-value: 0.37786
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation_empTotal ~ xrd_NSF_GDP, data = dt, 
    effect = "twoways", model = "within")

Unbalanced Panel: n = 51, T = 18-20, N = 1007

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-7.5394e-03 -1.4314e-03 -6.3851e-05  1.2599e-03  1.1814e-02 

Coefficients:
             Estimate Std. Error t-value Pr(>|t|)
xrd_NSF_GDP -0.013618   0.025632 -0.5313   0.5953

Total Sum of Squares:    0.0056123
Residual Sum of Squares: 0.0056089
R-Squared:      0.00061271
Adj. R-Squared: -0.074128
F-statistic: 0.282268 on 1 and 936 DF, p-value: 0.59534
    \end{verbatim}

    
    \hypertarget{discussion}{%
\paragraph{Discussion}\label{discussion}}

The results are insignificant in both cases. While I have substantially
less data in this case, it appears to be less volatile data, hence the
standard errors are comparable. The reason for the lack of significance
is then the fact that the magnitude of the point estimates are small.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}87}]:} 
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Compustat-aggregated R\&D data"
[1] "Establishments creation"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry ~ xrd, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-15582.1548   -568.6124     -9.0169    590.4657  13600.4626 

Coefficients:
     Estimate Std. Error t-value Pr(>|t|)   
xrd -0.044823   0.015256  -2.938 0.003347 **
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    3755800000
Residual Sum of Squares: 3674100000
R-Squared:      0.021745
Adj. R-Squared: -0.026412
F-statistic: 8.63187 on 1 and 1747 DF, p-value: 0.0033466
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Job creation by new firms"

    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = netJobCreation ~ xrd, data = dt, effect = "twoways", 
    model = "within")

Unbalanced Panel: n = 51, T = 35-36, N = 1834

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-118213.311   -4141.917     -88.682    4032.462   98146.835 

Coefficients:
    Estimate Std. Error t-value  Pr(>|t|)    
xrd -0.61033    0.17290 -3.5299 0.0004265 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    1.9216e+11
Residual Sum of Squares: 1.7701e+11
R-Squared:      0.078799
Adj. R-Squared: 0.03345
F-statistic: 12.4601 on 1 and 1747 DF, p-value: 0.00042651
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Calculate standard errors}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry }
         
         \PY{c+c1}{\PYZsh{} Compustat}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment entry: Compustat\PYZdq{}}\PY{p}{)}
         coef\PYZus{}test\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{CR1S\PYZdq{}}\PY{p}{,} cluster \PY{o}{=} dt\PY{o}{\PYZdl{}}state\PY{p}{,} test \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{z\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} NSF}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment entry: NSF\PYZdq{}}\PY{p}{)}
         estabsNSF\PYZus{}test \PY{o}{\PYZlt{}\PYZhy{}} coef\PYZus{}test\PY{p}{(}estabs\PYZus{}xrdNSF\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{CR0\PYZdq{}}\PY{p}{,} cluster \PY{o}{=} dt\PY{o}{\PYZdl{}}state\PY{p}{)}
         
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation at newborn firms}
         
         \PY{c+c1}{\PYZsh{} Compustat}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Net job creation at new firms: Compustat\PYZdq{}}\PY{p}{)}
         jobsCompustat\PYZus{}test \PY{o}{\PYZlt{}\PYZhy{}} coef\PYZus{}test\PY{p}{(}jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{CR0\PYZdq{}}\PY{p}{,} cluster \PY{o}{=} dt\PY{o}{\PYZdl{}}state\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} NSF}
         \PY{k+kp}{print}\PY{p}{(}\PY{l+s}{\PYZdq{}}\PY{l+s}{Net job creation at new firms: Compustat\PYZdq{}}\PY{p}{)}
         jobsNSF\PYZus{}test \PY{o}{\PYZlt{}\PYZhy{}} coef\PYZus{}test\PY{p}{(}jobs\PYZus{}xrdNSF\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{CR0\PYZdq{}}\PY{p}{,} cluster \PY{o}{=} dt\PY{o}{\PYZdl{}}state\PY{p}{)}
         
         
         \PY{c+c1}{\PYZsh{}stargazer(estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway, se = coef\PYZus{}test(estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway, vcov = \PYZdq{}CR1\PYZdq{}, cluster = dt\PYZdl{}state, coefs = \PYZdq{}All\PYZdq{}), report = \PYZdq{}vcs\PYZdq{})}
         \PY{c+c1}{\PYZsh{}latex(coef\PYZus{}test(estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway, vcov = \PYZdq{}CR1\PYZdq{}, cluster = dt\PYZdl{}state, coefs = \PYZdq{}All\PYZdq{}))}
         
         
         
         \PY{c+c1}{\PYZsh{} Here I use state\PYZhy{}year R\PYZbs{}\PYZam{}D data taken from NSF aggregate statistics}
         \PY{c+c1}{\PYZsh{}estabs\PYZus{}xrdNSF\PYZus{}FEtwoway \PYZlt{}\PYZhy{} plm(formula = estabsEntry\PYZus{}estabsTotal \PYZti{} xrd\PYZus{}NSF\PYZus{}GDP, data = dt, model = \PYZdq{}within\PYZdq{}, effect = \PYZdq{}twoways\PYZdq{})}
         \PY{c+c1}{\PYZsh{}summary(estabs\PYZus{}xrdNSF\PYZus{}FEtwoway)}
         \PY{c+c1}{\PYZsh{}coef\PYZus{}test(estabs\PYZus{}xrdNSF\PYZus{}FEtwoway, vcov = \PYZdq{}CR1\PYZdq{}, cluster = dt\PYZdl{}state, coefs = \PYZdq{}All\PYZdq{})}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishment entry: Compustat"

    \end{Verbatim}

    \begin{tabular}{r|lll}
  & beta & SE & p\_z\\
\hline
	xrd\_GDP & 0.1634548    & 0.04427061   & 0.0002223449\\
\end{tabular}


    
    \begin{Verbatim}[commandchars=\\\{\}]
[1] "Establishment entry: NSF"
[1] "Net job creation at new firms: Compustat"
[1] "Net job creation at new firms: Compustat"

    \end{Verbatim}

    \hypertarget{adding-lags-of-rd-spending}{%
\subsubsection{Adding lags of R\&D
spending}\label{adding-lags-of-rd-spending}}

It is reasonable to think that this mechanism will require some time to
occur. Hence, I will add some lags of R\&D spending.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}86}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         \PY{c+c1}{\PYZsh{}\PYZsh{} Construct estimator and summarize}
         \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Establishment entry}
         \PY{c+c1}{\PYZsh{} Compustat}
         estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} estabsEntry\PYZus{}estabsTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP 
                                             \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{3}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{4}\PY{p}{)}\PY{p}{,}
                                             data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{k+kp}{summary}\PY{p}{(}estabs\PYZus{}xrdCompustat\PYZus{}FEtwoway\PY{p}{,} vcov \PY{o}{=} vcovDC\PY{p}{)}
         
         
         \PY{c+c1}{\PYZsh{} NSF}
         estabs\PYZus{}xrdNSF\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} estabsEntry\PYZus{}estabsTotal \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PYZus{}GDP
                                             \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,}
                                             data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{} Job creation by new firms}
         \PY{c+c1}{\PYZsh{} Compustat}
         jobs\PYZus{}xrdCompustat\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} netJobCreation\PYZus{}empTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP 
                                             \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}GDP\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,}
                                             data \PY{o}{=} dt\PY{p}{,}
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} NSF}
         jobs\PYZus{}xrdNSF\PYZus{}FEtwoway \PY{o}{\PYZlt{}\PYZhy{}} plm\PY{p}{(}formula \PY{o}{=} netJobCreation\PYZus{}empTotal \PY{o}{\PYZti{}} xrd\PYZus{}NSF\PYZus{}GDP
                                             \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{1}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{2}\PY{p}{)} \PY{o}{+} plm\PY{o}{::}lag\PY{p}{(}xrd\PYZus{}NSF\PYZus{}GDP\PY{p}{,}\PY{l+m}{3}\PY{p}{)}\PY{p}{,}
                                             data \PY{o}{=} dt\PY{p}{,} 
                                             model \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{within\PYZdq{}}\PY{p}{,} effect \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{twoways\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Warning message in sqrt(diag(rvcov)):
“NaNs produced”
    \end{Verbatim}

    
    \begin{verbatim}
Twoways effects Within Model

Note: Coefficient variance-covariance matrix supplied: vcovDC

Call:
plm(formula = estabsEntry_estabsTotal ~ xrd_GDP + plm::lag(xrd_GDP, 
    1) + plm::lag(xrd_GDP, 2) + plm::lag(xrd_GDP, 3) + plm::lag(xrd_GDP, 
    4), data = dt, effect = "twoways", model = "within")

Unbalanced Panel: n = 51, T = 31-32, N = 1630

Residuals:
       Min.     1st Qu.      Median     3rd Qu.        Max. 
-2.5955e-02 -3.3463e-03 -3.2052e-05  2.5139e-03  5.2314e-02 

Coefficients:
                      Estimate Std. Error t-value Pr(>|t|)   
xrd_GDP              0.0423739  0.0224618  1.8865  0.05942 . 
plm::lag(xrd_GDP, 1) 0.0179312         NA      NA       NA   
plm::lag(xrd_GDP, 2) 0.0535518  0.0210096  2.5489  0.01090 * 
plm::lag(xrd_GDP, 3) 0.0055531  0.0202955  0.2736  0.78442   
plm::lag(xrd_GDP, 4) 0.1035860  0.0396125  2.6150  0.00901 **
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Total Sum of Squares:    0.060736
Residual Sum of Squares: 0.059034
R-Squared:      0.028016
Adj. R-Squared: -0.026158
F-statistic: 2.59804 on 5 and 1543 DF, p-value: 0.023867
    \end{verbatim}

    
    \hypertarget{some-scatterplots}{%
\subsubsection{Some scatterplots}\label{some-scatterplots}}

    First extract observations with IndustryId = 1, i.e.~normalized by
totalGDP

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} dt \PY{o}{\PYZlt{}\PYZhy{}} dt\PYZus{}all\PY{p}{[}normalizationType \PY{o}{==} \PY{l+m}{1}\PY{p}{]}
\end{Verbatim}


    \hypertarget{ols-regression}{%
\paragraph{OLS regression}\label{ols-regression}}

First let's do a simple scatter plot and OLS regression. This is likely
to be biased because larger states will have more of both, but it is the
first step.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} estabsEntry\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.5}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment Entry\PYZdq{}}\PY{p}{)}
         
         estabsEntry\PYZus{}xrdPercentGDP\PYZus{}OLS \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(}estabsEntry \PY{o}{\PYZti{}} xrd\PY{p}{,} data\PY{o}{=}dt\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabsEntry\PYZus{}xrdPercentGDP\PYZus{}OLS\PY{p}{)}
\end{Verbatim}


    
    
    
    \begin{verbatim}

Call:
lm(formula = estabsEntry ~ xrd, data = dt)

Residuals:
   Min     1Q Median     3Q    Max 
-49566  -4904  -2143   1566  60335 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) 7.011e+03  2.230e+02   31.44   <2e-16 ***
xrd         8.628e-01  2.735e-02   31.55   <2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 8966 on 1832 degrees of freedom
Multiple R-squared:  0.352,	Adjusted R-squared:  0.3517 
F-statistic: 995.2 on 1 and 1832 DF,  p-value: < 2.2e-16

    \end{verbatim}

    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_43_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Very significant positive coefficient. Let's see it separated by state.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} estabsEntry\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.2}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment Entry\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_45_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    It certainly appears to be driven by across-state variation. Let's check
the same thing for net\_job\_creation, just to be sure.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} netJobCreation\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.5}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Net Job Creation by Entering Firms\PYZdq{}}\PY{p}{)}
         
         netJobCreation\PYZus{}xrdPercentGDP\PYZus{}OLS \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(}netJobCreation \PY{o}{\PYZti{}} xrd\PY{p}{,} data\PY{o}{=}dt\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}netJobCreation\PYZus{}xrdPercentGDP\PYZus{}OLS\PY{p}{)}
\end{Verbatim}


    
    
    
    \begin{verbatim}

Call:
lm(formula = netJobCreation ~ xrd, data = dt)

Residuals:
    Min      1Q  Median      3Q     Max 
-313923  -30496  -13299    8684  368902 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) 41800.155   1386.142   30.16   <2e-16 ***
xrd             5.224      0.170   30.73   <2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 55730 on 1832 degrees of freedom
Multiple R-squared:  0.3401,	Adjusted R-squared:  0.3398 
F-statistic: 944.4 on 1 and 1832 DF,  p-value: < 2.2e-16

    \end{verbatim}

    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} netJobCreation\PY{p}{,} color \PY{o}{=} state\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.1}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Net Job Creation by Entering Firms\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_48_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Same result.

\hypertarget{ols-with-normalized-variables}{%
\paragraph{OLS with normalized
variables}\label{ols-with-normalized-variables}}

The next logical step is to normalize the variables: large states will
have large amounts of R\&D and large amounts of entry. However, it is
plausible that R\&D / GDP and entry divided by \# of firms (job creation
divided by \# of jobs) do not depend in a mechanical way on the size of
the state. What happens if we do pooled OLS with such a normalization?

As before, let's first look at firm entry rates.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}GDP\PY{p}{,} y \PY{o}{=} estabsEntry\PYZus{}estabsTotal\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.5}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment Entry / \PYZsh{} Estabs\PYZdq{}}\PY{p}{)}
         
         estabsEntry\PYZus{}estabsTotal.xrd\PYZus{}GDP.OLS \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(}estabsEntry\PYZus{}estabsTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP\PY{p}{,} data\PY{o}{=}dt\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}estabsEntry\PYZus{}estabsTotal.xrd\PYZus{}GDP.OLS\PY{p}{)}
\end{Verbatim}


    
    
    
    \begin{verbatim}

Call:
lm(formula = estabsEntry_estabsTotal ~ xrd_GDP, data = dt)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.05331 -0.01476 -0.00129  0.01254  0.08933 

Coefficients:
              Estimate Std. Error t value Pr(>|t|)    
(Intercept)  0.0846074  0.0006566 128.857  < 2e-16 ***
xrd_GDP     -0.0014084  0.0004123  -3.416  0.00065 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.02141 on 1832 degrees of freedom
Multiple R-squared:  0.006328,	Adjusted R-squared:  0.005786 
F-statistic: 11.67 on 1 and 1832 DF,  p-value: 0.00065

    \end{verbatim}

    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_50_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Looks bad. What about for net job creation?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PYZus{}GDP\PY{p}{,} y \PY{o}{=} netJobCreation\PYZus{}empTotal\PY{p}{)}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}point\PY{p}{(}size \PY{o}{=} \PY{l+m}{0}\PY{p}{)} \PY{o}{+} 
             geom\PYZus{}smooth\PY{p}{(}method \PY{o}{=} lm\PY{p}{,}size \PY{o}{=} \PY{l+m}{0.5}\PY{p}{,} se \PY{o}{=} \PY{k+kc}{FALSE}\PY{p}{)} \PY{o}{+} 
             labs\PY{p}{(}x \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{R\PYZam{}D / GDP\PYZdq{}}\PY{p}{,} y \PY{o}{=} \PY{l+s}{\PYZdq{}}\PY{l+s}{Establishment Entry / \PYZsh{} Estabs\PYZdq{}}\PY{p}{)}
         
         netJobCeation\PYZus{}empTotal.xrd\PYZus{}GDP.OLS \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(}netJobCreation\PYZus{}empTotal \PY{o}{\PYZti{}} xrd\PYZus{}GDP\PY{p}{,} data\PY{o}{=}dt\PY{p}{)}
         \PY{k+kp}{summary}\PY{p}{(}netJobCeation\PYZus{}empTotal.xrd\PYZus{}GDP.OLS\PY{p}{)}
\end{Verbatim}


    
    
    
    \begin{verbatim}

Call:
lm(formula = netJobCreation_empTotal ~ xrd_GDP, data = dt)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.019752 -0.006497 -0.001474  0.005168  0.077497 

Coefficients:
              Estimate Std. Error t value Pr(>|t|)    
(Intercept)  0.0320286  0.0003073 104.228  < 2e-16 ***
xrd_GDP     -0.0015280  0.0001930  -7.918 4.14e-15 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.01002 on 1832 degrees of freedom
Multiple R-squared:  0.03309,	Adjusted R-squared:  0.03256 
F-statistic:  62.7 on 1 and 1832 DF,  p-value: 4.141e-15

    \end{verbatim}

    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_52_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} ggplot\PY{p}{(}dt\PY{p}{,}aes\PY{p}{(}x \PY{o}{=} xrd\PY{p}{,} y \PY{o}{=} estabs\PYZus{}entry\PY{p}{)}\PY{p}{)} \PY{o}{+} geom\PYZus{}point\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_53_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
